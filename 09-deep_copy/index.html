<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    {
        let obj = {
            x: 1,
            y: 2,
            z: 3,
            a() {
                console.log("this is a");
            },
            b: undefined,
            c: [1, 2, 3, {a: 1, b: 2, c: 3}],
        };

        // let result = obj; //浅拷贝
        let result = deepCopy(obj); //深拷贝
        result.y = 3;
        result.c = [4, 5, 6];
        console.log(obj);
        console.log(result);

        function deepCopy(obj) {
            let result = Array.isArray(obj) ? [] : {};
            for (let key in obj) {
                if(obj.hasOwnProperty(key)){
                    if(typeof obj[key] === "object"){
                        result[key] = deepCopy(obj[key]);
                    }else{
                        result[key] = obj[key];
                    }
                }
            }
            return result;
        }
    }
</script>
</body>
</html>